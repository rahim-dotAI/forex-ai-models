{
  "version": "2.1.3-OPTIMIZED",
  "mode": "conservative",
  "use_sentiment": false,
  "settings": {
    "aggressive": {
      "threshold": 50,
      "min_adx": 18,
      "rsi_oversold": 30,
      "rsi_overbought": 70,
      "min_risk_reward": 2.5,
      "atr_stop_multiplier": 2.5,
      "atr_target_multiplier": 5.0,
      "max_correlated_signals": 2
    },
    "conservative": {
      "threshold": 55,
      "min_adx": 20,
      "rsi_oversold": 30,
      "rsi_overbought": 70,
      "min_risk_reward": 2.5,
      "atr_stop_multiplier": 2.5,
      "atr_target_multiplier": 5.0,
      "max_correlated_signals": 1
    }
  },
  "tiers": {
    "A_plus_min_score": 75,
    "A_min_score": 68,
    "B_min_score": 60,
    "note": "Lowered from 80/72/65 to generate A/B tier signals (v2.1.3)"
  },
  "advanced": {
    "enable_session_filtering": true,
    "enable_correlation_filter": true,
    "cache_ttl_minutes": 5,
    "parallel_workers": 3,
    "session_bonuses": {
      "ASIAN":    { "JPY_pairs": 3, "AUD_NZD_pairs": 3, "other": 0 },
      "EUROPEAN": { "EUR_GBP_pairs": 3, "EUR_GBP_crosses": 2, "other": 0 },
      "OVERLAP":  { "all_major_pairs": 0 },
      "US":       { "USD_majors": 3, "other": 0 },
      "LATE_US":  { "all_major_pairs": 0 }
    },
    "session_thresholds": {
      "ASIAN":    65,
      "EUROPEAN": 50,
      "US":       50,
      "LATE_US":  65,
      "OVERLAP":  999,
      "_note": "ASIAN=33%WR, LATE_US=42%WR blocked; EUROPEAN=57%WR, US=77%WR kept"
    },
    "pair_limits": {
      "GBPUSD":  5,
      "GBPJPY":  2,
      "EURGBP":  0,
      "default": 3,
      "_note": "GBPUSD=100%WR(max5), GBPJPY=42%WR(max2), EURGBP=0%WR(blocked)"
    },
    "validation": {
      "max_signal_age_seconds": 900,
      "min_sl_pips": {
        "JPY_pairs": 20,
        "other": 12
      },
      "max_spread_ratio": 0.25,
      "max_sl_distance_pct": 0.02,
      "max_tp_distance_pct": 0.05,
      "require_direction": true,
      "reject_missing_pips": true
    }
  },
  "risk_management": {
    "max_daily_risk_pips": 150,
    "max_open_positions": 3,
    "stop_trading_on_drawdown_pips": 100,
    "equity_protection": {
      "enable": false,
      "max_consecutive_losses": 3,
      "pause_minutes_after_hit": 120
    }
  },
  "performance_tracking": {
    "enable": true,
    "history_file": "signal_state/signal_history.json",
    "tracker_version": "2.1.3-OPTIMIZED",
    "idempotency": {
      "enabled": true
    },
    "analytics": {
      "track_by_pair": true,
      "track_by_tier": true,
      "track_by_session": true,
      "track_by_mode": true,
      "track_cross_analytics": true
    }
  },
  "sentiment": {
    "min_score_threshold": 60,
    "newsapi_enabled": true,
    "marketaux_enabled": true,
    "cache_ttl_minutes": 30,
    "rate_limit_seconds": 2,
    "_note": "Sentiment applied only to signals with score >= 60 to conserve API quota"
  },
  "performance_tuning": {
    "auto_adjust_thresholds": false,
    "min_trades_for_optimization": 50,
    "target_win_rate": 0.65,
    "target_expectancy_pips": 20,
    "optimization_interval_days": 14,
    "optimization_inputs": {
      "min_expectancy": 15
    }
  }
}
